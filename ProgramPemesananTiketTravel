import os
import sys

def menu():
    print('\t',"INDENTURE TOUR AND TRAVEL") # tampilan awal
    print("=========================================")
    print('\t',"Teman Perjalanan Anda")
    print("Menu : ")
    print("1. Pesanan Baru")
    print("2. Reschedule")
    print("3. Pembatalan (cancel)")

    menu = input("Masukkan menu pilihan Anda(1/2/3): ") # input pilihan menu
    os.system('cls')

    if (menu== "1"):
        print("1. One Way")
        print("2. Return")
        rute = input("Anda akan melakukan perjalanan(1/2): ") # memilih penerbangan
        if rute=="1":
            tanggal = input("Masukkan tanggal keberangkatan Anda(DD/MM/YYYY): ") # input tanggal berangkat apabila memilih one way
            print("Anda melakukan perjalanan one way pada", tanggal )
        else:
            tanggal1 =input("Masukkan tanggal keberangkatan Anda(DD/MM/YYYY): ") # input tanggal berangkat apabila memilih return
            tanggal2 = input("Masukkan tanggal pulang Anda(DD/MM/YYYY): ") # input tanggal pulang apabila memilih return
            print("Anda melakukan perjalanan return pada", tanggal1 , " dan kembali pada ",tanggal2)
            
        os.system('cls')
        print("Pilihan rute dan tarif:")
        print("1. SOC-CGK Rp 300.000 ")
        print("2. SOC-BDG Rp 250.000 ")
        print("3. SOC-BANTEN Rp 375.000 ")
        print("4. SOC-SMG Rp 100.000 ")
        print("5. SOC-SUB Rp 160.000 ")
        tarif = int(input("Masukkan rute tujuan anda: ")) # memilih rute tujuan dan tarif

        if tarif == 1:
            rute = "SOC-CGK"
            harga = 300000
            print("Tarif rute SOC-CGK : Rp ", harga)
        elif tarif == 2:
            rute = "SOC-BDG"
            harga = 250000
            print("Tarif rute SOC-BDG : Rp ", harga)
        elif tarif == 3:
            rute = "SOC-BANTEN"
            harga = 375000
            print("Tarif rute SOC-BANTEN: Rp ", harga)
        elif tarif == 4:
            rute = "SOC-SMG"
            harga = 100000
            print("Tarif rute SOC-SMG : Rp ", harga)
        else:
            rute = "SOC-SUB"
            harga = 160000
            print("Tarif rute SOC-SUB : Rp ", harga)

        os.system('cls')
        print("Pilih jam keberangkatan: ")
        print("1. 09.00 WIB")
        print("2. 20.00 WIB")
        jam = int(input("Masukkan jam keberangkatan Anda(1/2): ")) # memilih jam keberangkatan
        if jam == 1:
            jam = "09.00 WIB"
            print("Anda memilih berangkat pukul ", jam)
            jmlpnp = int(input("Masukkan jumlah penumpang: ")) # input jumlah penumpang
            print("Jumlah penumpang: ", jmlpnp)
            hargatiket = harga * int(jmlpnp)
            print("Harga total: ", hargatiket)
        else:
            jam = "20.00 WIB"
            print("Anda memilih berangkat pukul ", jam)
            jmlpnp = int(input("Masukkan jumlah penumpang: ")) # input jumlah penumpang
            print("Jumlah penumpang: ", jmlpnp)
            hargatiket = harga * jmlpnp
            print("Harga total: ", hargatiket)
            
        # belum selesai penulisan pengecekan sisa kursi
        os.system('cls')
        kapasitas = 12
        if jmlpnp < str(kapasitas):
            print("Maaf kursi telah habis, silahkan memilih jam/tanggal keberangkatan lain")
               else:
            for i in range(jmlpnp):
                nama = input("Masukkan nama lengkap penumpang: ")
                ktp = input("Masukkan nomor KTP: ")  
        
            alamat = input("Masukkan alamat penumpang: ")
            os.system('cls')
            promo = input("apakah anda memiliki kode promo?(Y/T): ")
            if promo == 'Y':
                input("masukan kode promo: ")
                hargatiket = harga * jmlpnp
                harga_total = hargatiket * 0.50

                print("harga total: ", harga_total)
            else:
                harga_total = harga * jmlpnp
                print("harga total: ", harga_total)
            
            os.system('cls')
            print("pilih kelas armada: ")
            print("1. Eksekutif")
            print("2. Ekonomi")
            kelas = int(input("Masukkan pilihan kelas armada (1/2): "))
            if kelas == 1:
                armada = "Eksekutif"
                print("Anda memilih armada ", armada)
                hargatiket = harga_total + 50000
                print("harga total: ", hargatiket)
            else:
                armada = "Ekonomi"
                print("Anda memilih armada ", armada)
                hargatiket = harga_total
                print("harga total: ", hargatiket)
                os.system('cls')

        print("Pilih lokasi penjemputan: ")
        print("1. Rumah (Jasa penjemputan sebesar 5.000/km dari agen)")
        print("2. Agen")
        lokasi_penjemputan = int(input("Masukkan lokasi penjemputan (1/2): "))
        os.system('cls')
        if lokasi_penjemputan == 1:
            lokasi = "Rumah"
            print("Anda memilih lokasi penjemputan dari ", lokasi)
            jarak = int(input("Jarak rumah ke agen (km): "))
            harga_bayar = hargatiket + (jarak * 5000)
            print("Harga total yang harus dibayarkan yaitu: ", int(harga_bayar))
        else:
            lokasi = "Agen"
            print("Anda memilih lokasi penjemputan dari ", lokasi)
            harga_bayar = hargatiket
            print("Harga total yang harus dibayarkan yaitu: ", int(harga_bayar))
            print("Anda harus datang ke lokasi agen sebelum keberangkatan")

        print("Tujuan Anda: ", rute)
        print("Jam Keberangkatan: ", jam)
        print("Nama Lengkap Penumpang: ", nama)
        print("Nomor KTP: ", ktp)
        print("Armada yang dipilih: ", armada)
        print("Lokasi Penjemputan: ", lokasi)
        print("Harga total yang harus dibayarkan: ", harga_bayar)
                
            #RIOO
            #RIOO
            #RIOO
        print("Informasi Tiket Surat Perjanjian:")
        print("1. Informasi yang dimasukkan merupakan data yang valid.")
        print("2. Reschedule hanya dapat dilakukan minimal h-3 sebelum keberangkatan. Jika melebihi ketentuan maka tiket tidak dapat di-reschedule.")
        print("3. Pembatalan tiket hanya dapat dilakukan h-3 dari tanggal keberangkatan. Jika tidak maka tiket dianggap hangus.")
        print("4. Uang pembatalan tiket akan dikembalikan sebesar 75% dari total tagihan.")
        print("5. Kesalahan dalam proses memasukkan data penumpang bukan tanggung jawab pihak travel.")


    elif (menu == "2"):
        print(input("Masukkan kode bayar Anda: "))
        print(input("Masukkan tanggal baru pilihan Anda (DD/MM/YYYY): "))
        print("Pilih jam keberangkatan: ")
        print("1. 09.00 WIB")
        print("2. 20.00 WIB")
        jam = int(input("Masukkan jam keberangkatan Anda(1/2): "))  # memilih jam keberangkatan
        if jam == 1:
            jam = "09.00 WIB"
            print("Anda memilih berangkat pukul ", jam)
            jmlpnp = int(input("Masukkan jumlah penumpang: "))  # input jumlah penumpang
            print("Jumlah penumpang: ", jmlpnp)
        else:
            jam = "20.00 WIB"
            print("Anda memilih berangkat pukul ", jam)
            jmlpnp = int(input("Masukkan jumlah penumpang: "))  # input jumlah penumpang
            print("Jumlah penumpang: ", jmlpnp)
        os.system('cls')

        if jmlpnp > 12:
            print("Maaf kursi telah habis, silahkan memilih jam/tanggal keberangkatan lain")
        else:
            print("Selamat, tiket Anda telah berhasil di-reschedule")
        
        
    elif (menu == "3"):
        print(input("Masukkan kode bayar Anda untuk melakukan pembatalan: "))
        # pengecekan data
        tanggal_pemesanan = int(input("Masukkan tanggal pemesanan (DD) :"))
        bulan_pemesanan = int(input("Masukkan bulan pemesanan (MM) :"))
        tahun_pemesanan = int(input("Masukkan tahun pemesanan (YYYY):"))
        tanggal_sekarang = int(input("Masukkan tanggal sekarang (DD):"))
        bulan_sekarang = int(input("Masukkan bulan sekarang (MM):"))
        tahun_sekarang = int(input("Masukkan tahun sekarang (YYYY) :"))

        pembatalan = (tanggal_sekarang - tanggal_pemesanan) + ((bulan_sekarang - bulan_pemesanan) * 30) - (
                    (tahun_sekarang - tahun_pemesanan) * 365)
        print("pembatalan", pembatalan)
        if pembatalan >= 3:
            print("Tiket Anda berhasil dibatalkan, silahkan mengambil refund di agen kami.")
        else:
            print("Mohon maaf, tiket Anda tidak dapat di cancel.")
       
       
menu()
